coordinator=true
node-scheduler.include-coordinator=true
http-server.http.port=8080
discovery.uri=http://localhost:8080

# --- Security Configuration ---
# Trino uses the CONFIDENTIAL client for OAuth2 authentication
# This client has a secret and is used to validate tokens from the public frontend client
http-server.authentication.type=oauth2
http-server.authentication.oauth2.issuer=${ENV:OAUTH2_ISSUER_URL}
http-server.authentication.oauth2.jwks-url=${ENV:OAUTH2_JWKS_URL}
http-server.authentication.oauth2.client-id=${ENV:OAUTH2_TRINO_CLIENT_ID}
http-server.authentication.oauth2.client-secret=${ENV:OAUTH2_TRINO_CLIENT_SECRET}
http-server.authentication.oauth2.principal-field=${ENV:OAUTH2_PRINCIPAL_FIELD}
# Allow tokens issued to the public client (audience validation)
http-server.authentication.oauth2.additional-audiences=${ENV:OAUTH2_PUBLIC_CLIENT_ID}

# Internal communication shared secret (required when authentication is enabled)
internal-communication.shared-secret=${ENV:TRINO_INTERNAL_SECRET}

# --- Access Control Configuration ---
access-control.config-files=/etc/trino/access-control.properties
